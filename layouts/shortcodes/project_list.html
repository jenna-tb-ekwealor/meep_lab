{{ $cat := .Get "categories" }} <!-- Get category passed to shortcode -->
<ul class="project-list">
  {{ range where .Site.Pages "Section" "allprojects" }} <!-- Filter only allprojects type -->
    {{ if in .Params.categories $cat }} <!-- Check if the project belongs to the specified category -->
      <li>
        <a href="{{ .RelPermalink }}">{{ .Title }}</a>
      </li>
    {{ end }}
  {{ end }}
</ul>
